import{d as k,a as _,a2 as w,_ as h,s as d,v as m,i as u,j as l,k as a,m as B,O as S,a9 as C,a0 as $,r as p,W as j,g as N,h as v,N as f,I as E,n as g,x as b,y as I,L,p as H,aa as z}from"./0b67dba0.js";import{u as M}from"./d09d4a57.js";const D=k({name:"ArNavigator",components:{SvgIcon:_},props:{comments:Boolean},setup(){const o=w(),{jumpToEle:e}=M();return{goBack:()=>{o.back()},backToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},jumpToComments:()=>{e("comments")}}}}),q={id:"sidebar-navigator",class:"flex flex-row bg-ob-deep-800 rounded-xl shadow-2xl justify-items-center overflow-hidden"};function O(o,e,r,t,s,n){const c=d("SvgIcon");return m(),u("ul",q,[l("li",{class:"border-r-4 border-ob-deep-900 flex justify-center py-3 w-full hover:opacity-50 hover:text-ob transition-all cursor-pointer",onClick:e[0]||(e[0]=(...i)=>o.goBack&&o.goBack(...i))},[a(c,{class:"inline-block text-3xl","icon-class":"go-back",fill:"none",stroke:"currentColor"})]),l("li",{class:"border-r-4 border-ob-deep-900 flex justify-center py-3 w-full hover:opacity-50 hover:text-ob transition-all cursor-pointer",onClick:e[1]||(e[1]=(...i)=>o.backToTop&&o.backToTop(...i))},[a(c,{class:"inline-block text-3xl","icon-class":"back-to-top",fill:"none",stroke:"currentColor"})]),o.comments?(m(),u("li",{key:0,class:"flex justify-center py-3 w-full hover:opacity-50 hover:text-ob transition-all cursor-pointer",onClick:e[2]||(e[2]=(...i)=>o.jumpToComments&&o.jumpToComments(...i)),"data-dia":"jump-to-comment"},[a(c,{class:"inline-block text-3xl","icon-class":"quote",fill:"none",stroke:"currentColor"})])):B("",!0)])}const V=h(D,[["render",O],["__scopeId","data-v-0f34d842"]]),A=k({name:"ObTOC",components:{SubTitle:S,Sticky:C,Navigator:V},props:{toc:String,comments:Boolean},setup(o){const e=$(o).toc,r=p(0),t=p(0),s=()=>{const n=document.getElementById("sidebar-navigator");r.value=n?n.clientHeight:0,t.value=window.innerHeight-r.value-63-18-46-18-60-18};return j(()=>{s(),window.addEventListener("resize",s)}),N(()=>{window.removeEventListener("resize",s)}),{tocData:e,showToc:v(()=>!(e!==void 0&&e.value==="")),sideBoxStyle:v(()=>({maxHeight:`${t.value}px`,overflowY:"scroll",overflowX:"hidden"}))}}}),R={id:"sticky-sidebar"},J={class:"sidebar-box mb-4"},U=["innerHTML"];function W(o,e,r,t,s,n){const c=d("SubTitle"),i=d("Navigator"),y=d("Sticky"),T=f("scroll-spy-active"),x=f("scroll-spy-link");return m(),E(y,{stickyTop:16+63,endingElId:"footer-link",dynamicElClass:"#sticky-sidebar"},{default:g(()=>[l("div",R,[a(H,{name:"fade-slide-y",mode:"out-in"},{default:g(()=>[b(l("div",J,[a(c,{title:"titles.toc",icon:"toc"}),b(l("div",{id:"toc-side-box",innerHTML:o.tocData,style:L(o.sideBoxStyle)},null,12,U),[[T,{selector:".toc-item"}],[x]])],512),[[I,o.showToc]])]),_:1}),a(i,{comments:o.comments},null,8,["comments"])])]),_:1})}const F=h(A,[["render",W]]);function G(){const o=z(),e=t=>{o.openImage(t)};return{initializeLightBox:()=>{const t=document.querySelector(".post-html");if(!t)return;let s=t.querySelectorAll("img");for(let n=0;n<s.length;n++)o.addImage(s[n].src),s[n].addEventListener("click",function(){e(this)})}}}export{F as T,G as u};
